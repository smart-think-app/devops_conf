def gitUrl = "https://github.com/smart-think-app/golang-service"
pipeline {
  agent any
  stages {
    stage("git pull code") {
      steps {
        dir('golang-service/src'){
          echo "git pull code ${gitUrl}"
          git url: "${gitUrl}", branch: "master"
        }
      }
    }
    stage("run unit test") {
      steps {
        echo "run unit test"
        sh 'cd src && go build'
      }
    }
    stage("build docker") {
      steps{
        echo "build docker"
      }
    }
    stage("deploy") {
      steps{
        echo "deploy"
      }
    }
  }
}